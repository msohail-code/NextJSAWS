{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\ACS\\\\Downloads\\\\Compressed\\\\client-master_2\\\\client-master\\\\src\\\\pages\\\\sale.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Header from \"../pages/header\";\nimport Footer from \"../pages/footer\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport { wrapper } from \"../redux/store\";\nimport axios from \"axios\";\nimport Head from \"next/head\";\nimport Products from \"../components/products\";\nexport default function Search(category) {\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: category.metaTitle ? category.metaTitle : category.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: category.metaDescription ? category.metaDescription : category.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Header, {\n      shadow: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Products, {\n      category: category\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 9\n  }, this);\n}\nexport const getServerSideProps = wrapper.getServerSideProps(async context => {\n  const limit = 30;\n  const page = parseInt(context.query.page || 1);\n  const {\n    locale\n  } = context;\n\n  try {\n    let queryParams = context.query;\n    let offset = (page - 1) * limit;\n    const headers = {\n      headers: {\n        lang: locale === \"en\" ? \"\" : locale\n      }\n    };\n    queryParams = _objectSpread(_objectSpread({}, queryParams), {\n      limit: limit,\n      offset: offset\n    });\n    queryParams = new URLSearchParams(queryParams);\n    let products = await axios.get(`${process.env.API_URL}category/products/sale?${queryParams}`, headers);\n    let category = {\n      name: \"Items On Sale\",\n      description: \"Discounted Products\"\n    };\n    category.products = products.data.rows;\n    category.totalCount = products.data.count;\n    category.limit = limit;\n    category.page = page;\n    category.totalPages = Math.ceil(products.data.count / limit);\n    category.isSale = true;\n    return {\n      props: category\n    };\n  } catch (error) {\n    return {\n      notFound: true\n    };\n  }\n});","map":{"version":3,"sources":["C:/Users/ACS/Downloads/Compressed/client-master_2/client-master/src/pages/sale.js"],"names":["Header","Footer","Fragment","useEffect","useState","wrapper","axios","Head","Products","Search","category","metaTitle","name","metaDescription","description","getServerSideProps","context","limit","page","parseInt","query","locale","queryParams","offset","headers","lang","URLSearchParams","products","get","process","env","API_URL","data","rows","totalCount","count","totalPages","Math","ceil","isSale","props","error","notFound"],"mappings":"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","sourcesContent":["import Header from \"../pages/header\";\nimport Footer from \"../pages/footer\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport { wrapper } from \"../redux/store\";\nimport axios from \"axios\";\nimport Head from \"next/head\";\nimport Products from \"../components/products\";\n\nexport default function Search(category) {\n    return (\n        <Fragment>\n            <Head>\n                <title>{category.metaTitle ? category.metaTitle : category.name}</title>\n                <meta name=\"description\" content={category.metaDescription ? category.metaDescription : category.description} />\n            </Head>\n            <Header shadow />\n            <Products category={category} />\n            <Footer />\n        </Fragment >\n    );\n}\n\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\n    const limit = 30;\n    const page = parseInt(context.query.page || 1);\n    const { locale } = context\n    try {\n        let queryParams = context.query;\n        let offset = (page - 1) * limit\n\n        const headers = { headers: { lang: locale === \"en\" ? \"\" : locale } }\n\n        queryParams = { ...queryParams, ...{ limit: limit, offset: offset } }\n        queryParams = new URLSearchParams(queryParams)\n        let products = await axios.get(`${process.env.API_URL}category/products/sale?${queryParams}`, headers)\n\n        let category = {\n            name: \"Items On Sale\",\n            description: \"Discounted Products\"\n        }\n\n        category.products = products.data.rows;\n        category.totalCount = products.data.count;\n        category.limit = limit;\n        category.page = page;\n        category.totalPages = Math.ceil(products.data.count / limit);\n        category.isSale = true;\n\n        return {\n            props: category\n        }\n    } catch (error) {\n        return {\n            notFound: true,\n        }\n    }\n})"]},"metadata":{},"sourceType":"module"}