{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\ACS\\\\Downloads\\\\Compressed\\\\client-master_2\\\\client-master\\\\src\\\\components\\\\helpers.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from \"axios\";\nimport Head from \"next/head\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Footer from \"../pages/footer\";\nimport Header from \"../pages/header\";\nimport Login from \"./login\";\nimport useTranslation from \"next-translate/useTranslation\";\nimport { useRouter } from \"next/router\";\nexport function getProductPrice(product) {\n  if (product.salePrice !== 0) {\n    return parseFloat(product.salePrice.toFixed(2));\n  }\n\n  return parseFloat(product.ragularPrice.toFixed(2));\n}\nexport function formatPrice(price) {\n  const storeConfig = useSelector(state => state.config);\n  price = parseFloat((price * storeConfig.currency.value).toFixed(2));\n  return new Intl.NumberFormat('en-IN', {\n    style: \"currency\",\n    currency: storeConfig.currency.code\n  }).format(price).replace(\"THB\", \"฿\").replace(\"$\", \"$\");\n}\nexport function formatCurrency(val, currency) {\n  val = parseFloat((val * currency.value).toFixed(2));\n  return new Intl.NumberFormat('en-IN', {\n    style: \"currency\",\n    currency: currency.code\n  }).format(val).replace(\"THB\", \"฿\").replace(\"$\", \"$\");\n}\nexport function GetPriceHtml(props) {\n  let quantity = props.quantity ? props.quantity : props.product.minOrderQuantity;\n  const {\n    t\n  } = useTranslation();\n\n  if (props.product.salePrice === 0) {\n    formatPrice(1); // dummy call\n\n    return formatPrice(props.product.ragularPrice * quantity) + \"/\" + t(\"common:meter\");\n  }\n\n  let discountPer = 100 * (props.product.ragularPrice * quantity - props.product.salePrice * quantity) / (props.product.ragularPrice * quantity);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [formatPrice(props.product.salePrice * quantity), \" \", /*#__PURE__*/_jsxDEV(\"del\", {\n      style: {\n        color: \"#bfbfbf\"\n      },\n      children: [formatPrice(props.product.ragularPrice * quantity), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 63\n    }, this), \"/ \", t(\"common:meter\"), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"disPer\",\n      children: [\"(\", Math.round(discountPer), \"% \", t(\"common:off\"), \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 178\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\nexport function stockStatus(product, isCart = false) {\n  if (isCart) {\n    if (product.cartProducts.status === 1) {\n      return {\n        status: 1\n      };\n    }\n\n    if (!product.currentStockStatus) {\n      return {\n        status: 2,\n        message: \"Out of Stock\"\n      };\n    }\n\n    if (product.cartProducts.status === 2) {\n      return {\n        status: 3,\n        message: `Only ${product.quantity} In Stock`\n      };\n    }\n\n    return {\n      status: 1\n    };\n  }\n\n  return product.currentStockStatus;\n}\nexport function formatAddress(address, isOrder = false) {\n  let addressArr = [];\n\n  if (isOrder) {\n    address.address && addressArr.push(address.address);\n    address.zone && addressArr.push(address.zone);\n    address.country && addressArr.push(address.country);\n    address.postcode && addressArr.push(address.postcode);\n  } else {\n    address.address && addressArr.push(address.address);\n    address.zone && addressArr.push(address.zone.name);\n    address.country && addressArr.push(address.country.name);\n    address.postcode && addressArr.push(address.postcode);\n  }\n\n  return addressArr.join(\", \");\n}\nexport const withAuth = Component => {\n  const Auth = props => {\n    const isLoggedIn = useSelector(state => state.config.auth ? state.config.auth : false);\n\n    if (!isLoggedIn) {\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Head, {\n          children: /*#__PURE__*/_jsxDEV(\"title\", {\n            children: \"Login - Gandhi Fabrics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Header, {\n          shadow: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Component, _objectSpread({}, props), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }, this);\n  }; // Copy getInitial props so it will run as well\n\n\n  if (Component.getInitialProps) {\n    Auth.getInitialProps = Component.getInitialProps;\n  }\n\n  return Auth;\n};\nexport function useCart() {\n  const {\n    0: isAdding,\n    1: setIsAdding\n  } = useState(false);\n  const {\n    0: isRemoving,\n    1: setIsRemoving\n  } = useState(false);\n  const {\n    0: isApplyingCoupon,\n    1: setIsApplyingCoupon\n  } = useState(false);\n  const {\n    0: reload,\n    1: setReload\n  } = useState(1);\n  const cartId = useSelector(state => state.config.cartId ? state.config.cartId : null);\n  const dispatch = useDispatch();\n  const {\n    0: isAddingToWishlist,\n    1: setIsAddingToWishlist\n  } = useState(false);\n  const {\n    0: disableCheckout,\n    1: setDisableCheckout\n  } = useState(false);\n  const {\n    0: customerCartData,\n    1: setCustomerCartData\n  } = useState(null);\n  const {\n    locale\n  } = useRouter();\n  const headers = {\n    headers: {\n      lang: locale === \"en\" ? \"\" : locale\n    }\n  };\n  useEffect(() => {\n    cartId && axios.get(`${process.env.API_URL}cart/${cartId}`, headers).then(res => {\n      let disableCheckout = false;\n\n      for (let cp of res.data.products) {\n        if (cp.cartProducts.status === 2) {\n          disableCheckout = true;\n          break;\n        }\n      }\n\n      setDisableCheckout(disableCheckout);\n      setCustomerCartData(res.data);\n      dispatch({\n        type: \"SET_CART_DATA\",\n        payload: res.data\n      });\n      dispatch({\n        type: \"SET_CART_ITEMS\",\n        payload: res.data.products.length + \"\"\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [reload, cartId]);\n  useEffect(() => {\n    calculateCart();\n  }, [cartId]);\n\n  async function calculateCart() {\n    if (cartId) return axios.post(`${process.env.API_URL}cart/calculateCart`, {\n      cartId: cartId\n    });\n  }\n\n  const calcShiping = async (addressId, storePickup) => {\n    try {\n      await axios.post(`${process.env.API_URL}cart/calculateShipping`, {\n        cartId: cartId,\n        addressId: addressId,\n        storePickup\n      });\n      await axios.post(`${process.env.API_URL}cart/allocateStock`, {\n        cartId: cartId\n      });\n      await calculateCart();\n      setReload(reload + 1);\n      return {\n        message: \"Shipping Calculated\"\n      };\n    } catch (err) {\n      throw new Error(err);\n    }\n  };\n\n  const addToCart = async (id, qty, cartProductId = null) => {\n    try {\n      setIsAdding(true);\n\n      if (cartId) {\n        await axios.patch(`${process.env.API_URL}cart`, {\n          productId: parseInt(id),\n          quantity: qty,\n          cartId: cartId,\n          cartProductId: cartProductId\n        });\n      } else {\n        let response = await axios.post(`${process.env.API_URL}cart`, {\n          productId: parseInt(id),\n          quantity: qty\n        });\n        dispatch({\n          type: \"ADD_TO_CART\",\n          payload: response.data.id\n        });\n      }\n\n      await calculateCart();\n      setIsAdding(false);\n      setReload(reload + 1);\n      let message = cartId ? \"Cart updated\" : \"Item added\";\n      return {\n        type: \"success\",\n        message: message,\n        title: \"Success\"\n      };\n    } catch (err) {\n      setIsAdding(false);\n      let message = cartId ? \"Couldn't be updated\" : \"Couldn't be added\";\n      return {\n        type: \"error\",\n        message: message,\n        title: \"Error\"\n      };\n    }\n  };\n\n  const remove = async id => {\n    try {\n      setIsRemoving(true);\n      await axios.post(`${process.env.API_URL}cart/remove`, {\n        cartId: cartId,\n        cartProductId: id\n      });\n      await calculateCart();\n      setIsRemoving(false);\n      setReload(reload + 1);\n      return {\n        type: \"success\",\n        message: \"Item Removed\",\n        title: \"Success\"\n      };\n    } catch (err) {\n      setIsRemoving(false);\n      setReload(reload + 1);\n      return {\n        type: \"error\",\n        message: \"Not Removed\",\n        title: \"Error\"\n      };\n    }\n  };\n\n  const addtoWishList = async id => {\n    try {\n      setIsAddingToWishlist(true);\n      let res = await axios.post(`${process.env.API_URL}wishlist`, {\n        productId: id\n      });\n      setIsAddingToWishlist(false);\n      /*  setReload1(reload1 + 1) */\n\n      return {\n        type: \"success\",\n        message: res.data.message,\n        title: \"Success\"\n      };\n    } catch (err) {\n      setIsAddingToWishlist(false);\n\n      if (err.response.status === 401) {\n        return {\n          type: \"error\",\n          message: \"Please login to add!\",\n          title: \"Error\"\n        };\n      }\n\n      return {\n        type: \"error\",\n        message: \"Something went wrong!\",\n        title: \"Error\"\n      };\n    }\n  };\n\n  const applyCoupon = async code => {\n    try {\n      setIsApplyingCoupon(true);\n      await axios.post(`${process.env.API_URL}cart/applyCoupon`, {\n        cartId: cartId,\n        couponCode: code\n      });\n      await calculateCart();\n      setReload(reload + 1);\n      setIsApplyingCoupon(false);\n      return {\n        type: \"success\",\n        message: \"Coupon Applied\",\n        title: \"Success\"\n      };\n    } catch (err) {\n      setIsApplyingCoupon(false);\n      let message = err.response.data.message ? err.response.data.message : \"Invalid Coupon\";\n      return {\n        type: \"error\",\n        message: message,\n        title: \"Error\"\n      };\n    }\n  };\n\n  const removeCoupon = async () => {\n    try {\n      setIsApplyingCoupon(true);\n      await axios.post(`${process.env.API_URL}cart/removeCoupon`, {\n        cartId: cartId\n      });\n      await calculateCart();\n      setReload(reload + 1);\n      setIsApplyingCoupon(false);\n      return {\n        type: \"success\",\n        message: \"Coupon Removed\",\n        title: \"Success\"\n      };\n    } catch (err) {\n      setIsApplyingCoupon(false);\n      return {\n        type: \"error\",\n        message: \"Something went wrong\",\n        title: \"Error\"\n      };\n    }\n  };\n\n  return {\n    cartId,\n    isAdding,\n    isRemoving,\n    addToCart,\n    remove,\n    addtoWishList,\n    isAddingToWishlist,\n    disableCheckout,\n    applyCoupon,\n    removeCoupon,\n    isApplyingCoupon,\n    calcShiping,\n    customerCartData\n  };\n}","map":{"version":3,"sources":["C:/Users/ACS/Downloads/Compressed/client-master_2/client-master/src/components/helpers.js"],"names":["axios","Head","Fragment","useEffect","useState","useDispatch","useSelector","Footer","Header","Login","useTranslation","useRouter","getProductPrice","product","salePrice","parseFloat","toFixed","ragularPrice","formatPrice","price","storeConfig","state","config","currency","value","Intl","NumberFormat","style","code","format","replace","formatCurrency","val","GetPriceHtml","props","quantity","minOrderQuantity","t","discountPer","color","Math","round","stockStatus","isCart","cartProducts","status","currentStockStatus","message","formatAddress","address","isOrder","addressArr","push","zone","country","postcode","name","join","withAuth","Component","Auth","isLoggedIn","auth","getInitialProps","useCart","isAdding","setIsAdding","isRemoving","setIsRemoving","isApplyingCoupon","setIsApplyingCoupon","reload","setReload","cartId","dispatch","isAddingToWishlist","setIsAddingToWishlist","disableCheckout","setDisableCheckout","customerCartData","setCustomerCartData","locale","headers","lang","get","process","env","API_URL","then","res","cp","data","products","type","payload","length","catch","err","console","log","calculateCart","post","calcShiping","addressId","storePickup","Error","addToCart","id","qty","cartProductId","patch","productId","parseInt","response","title","remove","addtoWishList","applyCoupon","couponCode","removeCoupon"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport Head from \"next/head\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Footer from \"../pages/footer\";\nimport Header from \"../pages/header\";\nimport Login from \"./login\";\nimport useTranslation from \"next-translate/useTranslation\";\nimport { useRouter } from \"next/router\";\n\nexport function getProductPrice(product) {\n    if (product.salePrice !== 0) {\n        return parseFloat(product.salePrice.toFixed(2))\n    }\n\n    return parseFloat(product.ragularPrice.toFixed(2))\n}\n\nexport function formatPrice(price) {\n    const storeConfig = useSelector(state => state.config);\n    price = parseFloat((price * storeConfig.currency.value).toFixed(2))\n    return new Intl.NumberFormat('en-IN', { style: \"currency\", currency: storeConfig.currency.code }).format(price).replace(\"THB\", \"฿\").replace(\"$\", \"$\");\n}\n\nexport function formatCurrency(val, currency) {\n    val = parseFloat((val * currency.value).toFixed(2));\n    return new Intl.NumberFormat('en-IN', { style: \"currency\", currency: currency.code }).format(val).replace(\"THB\", \"฿\").replace(\"$\", \"$\");\n}\n\nexport function GetPriceHtml(props) {\n    let quantity = props.quantity ? props.quantity : props.product.minOrderQuantity\n    const { t } = useTranslation()\n\n    if (props.product.salePrice === 0) {\n        formatPrice(1) // dummy call\n        return (formatPrice(props.product.ragularPrice * quantity)) + \"/\" + t(\"common:meter\")\n    }\n\n    let discountPer = 100 * ((props.product.ragularPrice * quantity) - (props.product.salePrice * quantity)) / (props.product.ragularPrice * quantity);\n\n    return (\n        <Fragment>\n            {formatPrice(props.product.salePrice * quantity)} <del style={{ color: \"#bfbfbf\" }}>{formatPrice(props.product.ragularPrice * quantity)} </del>/ {t(\"common:meter\")} <i className=\"disPer\">({Math.round(discountPer)}% {t(\"common:off\")})</i>\n        </Fragment>\n    )\n}\n\nexport function stockStatus(product, isCart = false) {\n    if (isCart) {\n\n        if (product.cartProducts.status === 1) {\n            return { status: 1 };\n        }\n\n        if (!product.currentStockStatus) {\n            return { status: 2, message: \"Out of Stock\" };\n        }\n\n        if (product.cartProducts.status === 2) {\n            return { status: 3, message: `Only ${product.quantity} In Stock` };\n        }\n\n        return { status: 1 };\n    }\n\n    return product.currentStockStatus\n}\n\nexport function formatAddress(address, isOrder = false) {\n    let addressArr = []\n    if (isOrder) {\n        address.address && addressArr.push(address.address)\n        address.zone && addressArr.push(address.zone)\n        address.country && addressArr.push(address.country)\n        address.postcode && addressArr.push(address.postcode)\n    } else {\n        address.address && addressArr.push(address.address)\n        address.zone && addressArr.push(address.zone.name)\n        address.country && addressArr.push(address.country.name)\n        address.postcode && addressArr.push(address.postcode)\n    }\n\n    return addressArr.join(\", \");\n}\n\nexport const withAuth = Component => {\n    const Auth = (props) => {\n        const isLoggedIn = useSelector(state => state.config.auth ? state.config.auth : false);\n\n        if (!isLoggedIn) {\n            return (\n                <Fragment>\n                    <Head>\n                        <title>Login - Gandhi Fabrics</title>\n                    </Head>\n                    <Header shadow />\n                    <Login />\n                    <Footer />\n                </Fragment>\n            )\n        }\n\n        return (<Component {...props} />)\n    }\n\n    // Copy getInitial props so it will run as well\n    if (Component.getInitialProps) {\n        Auth.getInitialProps = Component.getInitialProps;\n    }\n\n    return Auth;\n}\n\nexport function useCart() {\n    const [isAdding, setIsAdding] = useState(false);\n    const [isRemoving, setIsRemoving] = useState(false);\n    const [isApplyingCoupon, setIsApplyingCoupon] = useState(false);\n    const [reload, setReload] = useState(1);\n    const cartId = useSelector(state => state.config.cartId ? state.config.cartId : null);\n    const dispatch = useDispatch();\n    const [isAddingToWishlist, setIsAddingToWishlist] = useState(false);\n    const [disableCheckout, setDisableCheckout] = useState(false);\n    const [customerCartData, setCustomerCartData] = useState(null);\n    const { locale } = useRouter()\n\n    const headers = { headers: { lang: locale === \"en\" ? \"\" : locale } }\n\n    useEffect(() => {\n        cartId && axios.get(`${process.env.API_URL}cart/${cartId}`, headers).then((res) => {\n            let disableCheckout = false;\n            for (let cp of res.data.products) {\n                if (cp.cartProducts.status === 2) {\n                    disableCheckout = true;\n                    break;\n                }\n            }\n            setDisableCheckout(disableCheckout);\n            setCustomerCartData(res.data);\n            dispatch({ type: \"SET_CART_DATA\", payload: res.data });\n            dispatch({ type: \"SET_CART_ITEMS\", payload: res.data.products.length + \"\" });\n        }).catch((err) => {\n            console.log(err);\n        });\n    }, [reload, cartId]);\n\n    useEffect(() => {\n        calculateCart();\n    }, [cartId]);\n\n    async function calculateCart() {\n        if (cartId) return axios.post(`${process.env.API_URL}cart/calculateCart`, { cartId: cartId });\n    }\n\n    const calcShiping = async (addressId, storePickup) => {\n        try {\n            await axios.post(`${process.env.API_URL}cart/calculateShipping`, { cartId: cartId, addressId: addressId, storePickup });\n            await axios.post(`${process.env.API_URL}cart/allocateStock`, { cartId: cartId });\n            await calculateCart();\n            setReload(reload + 1);\n            return { message: \"Shipping Calculated\" };\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    const addToCart = async (id, qty, cartProductId = null) => {\n        try {\n            setIsAdding(true);\n            if (cartId) {\n                await axios.patch(`${process.env.API_URL}cart`, { productId: parseInt(id), quantity: qty, cartId: cartId, cartProductId: cartProductId });\n            } else {\n                let response = await axios.post(`${process.env.API_URL}cart`, { productId: parseInt(id), quantity: qty });\n                dispatch({ type: \"ADD_TO_CART\", payload: response.data.id });\n            }\n\n            await calculateCart();\n            setIsAdding(false);\n            setReload(reload + 1);\n            let message = cartId ? \"Cart updated\" : \"Item added\";\n            return { type: \"success\", message: message, title: \"Success\" };\n        } catch (err) {\n            setIsAdding(false);\n            let message = cartId ? \"Couldn't be updated\" : \"Couldn't be added\";\n            return { type: \"error\", message: message, title: \"Error\" };\n        }\n    }\n\n    const remove = async (id) => {\n        try {\n            setIsRemoving(true);\n            await axios.post(`${process.env.API_URL}cart/remove`, {\n                cartId: cartId,\n                cartProductId: id\n            });\n\n            await calculateCart();\n            setIsRemoving(false);\n            setReload(reload + 1);\n            return { type: \"success\", message: \"Item Removed\", title: \"Success\" };\n        } catch (err) {\n            setIsRemoving(false);\n            setReload(reload + 1);\n            return { type: \"error\", message: \"Not Removed\", title: \"Error\" };\n        }\n    }\n\n    const addtoWishList = async (id) => {\n        try {\n            setIsAddingToWishlist(true);\n            let res = await axios.post(`${process.env.API_URL}wishlist`, { productId: id });\n            setIsAddingToWishlist(false);\n            /*  setReload1(reload1 + 1) */\n            return { type: \"success\", message: res.data.message, title: \"Success\" };\n        } catch (err) {\n            setIsAddingToWishlist(false);\n            if (err.response.status === 401) {\n                return { type: \"error\", message: \"Please login to add!\", title: \"Error\" };\n            }\n            return { type: \"error\", message: \"Something went wrong!\", title: \"Error\" };\n        }\n    }\n\n    const applyCoupon = async (code) => {\n        try {\n            setIsApplyingCoupon(true);\n            await axios.post(`${process.env.API_URL}cart/applyCoupon`, {\n                cartId: cartId,\n                couponCode: code\n            });\n\n            await calculateCart();\n            setReload(reload + 1);\n            setIsApplyingCoupon(false);\n            return { type: \"success\", message: \"Coupon Applied\", title: \"Success\" };\n        } catch (err) {\n            setIsApplyingCoupon(false);\n            let message = err.response.data.message ? err.response.data.message : \"Invalid Coupon\"\n            return { type: \"error\", message: message, title: \"Error\" };\n        }\n    }\n\n    const removeCoupon = async () => {\n        try {\n            setIsApplyingCoupon(true);\n            await axios.post(`${process.env.API_URL}cart/removeCoupon`, {\n                cartId: cartId,\n            });\n\n            await calculateCart();\n            setReload(reload + 1);\n            setIsApplyingCoupon(false);\n            return { type: \"success\", message: \"Coupon Removed\", title: \"Success\" };\n        } catch (err) {\n            setIsApplyingCoupon(false);\n            return { type: \"error\", message: \"Something went wrong\", title: \"Error\" };\n        }\n    }\n\n    return {\n        cartId, isAdding, isRemoving, addToCart, remove, addtoWishList,\n        isAddingToWishlist, disableCheckout, applyCoupon, removeCoupon, isApplyingCoupon, calcShiping, customerCartData\n    }\n}"]},"metadata":{},"sourceType":"module"}